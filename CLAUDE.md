# PAI — Execution Protocol

Every request goes through The Algorithm. A hook classifies each prompt and injects
an `<algorithm-directive>` into context. Follow it.

| Effort | Protocol |
|--------|----------|
| TRIVIAL | Direct response. No ISC. No phases. |
| QUICK | Mental ISC (2-5 rows). Execute. Verify each row. |
| STANDARD+ | Load `skills/THEALGORITHM/SKILL.md`. Full 7-phase execution. |

If no `<algorithm-directive>` appears, treat as QUICK (hook may have failed).

# System Context
`read skills/PAI/SKILL.md`

## SecondBrain Output Standards

Default output location for all notes, guides, plans, and reference material is the Obsidian vault at `~/SecondBrain/`. Use the `obsidian` MCP tools (`create_note`, `find_notes`, `get_note_content`, `get_vault_info`) for vault operations. For related-file discovery, use `obsidian-cli --vault ~/SecondBrain query` or `find` commands to scan by frontmatter properties or content before writing.

### Directory Map

| Directory | Purpose | Examples |
|-----------|---------|----------|
| `Knowledge/` | Permanent reference — guides, extractions, business docs, philosophy notes | `CrowbarCrew-Business-Plan.md`, `Derek-Sivers-Philosophy-Notes.md` |
| `Knowledge/fabric-patterns/` | 259 Fabric pattern reference pages (auto-generated) | `extract_wisdom.md`, `summarize.md` |
| `Sessions/` | Heartbeat daily logs (auto-generated by cron, date-prefixed OK here) | `2026-02-16-heartbeat.md` |
| `Inbox/` | Unsorted inbound — ntfy messages, exports, drafts | `ntfy-inbox.md`, `notion-inbox-export.md` |
| `Memory/` | Core memories, quick reference, user context | `memory.md`, `quick-reference.md` |
| `Heartbeat/` | Heartbeat system code and config | `heartbeat.py`, `heartbeat.md` |
| `Clips/` | Web Clipper captures — raw inbox, not curated knowledge | `2026-02-18-some-article.md` |
| `Templates/` | Obsidian templates for new files | `WisdomExtraction.md`, `SessionLog.md`, `WebClip.md` |
| `Plans/` | NTFS hardlinks to project plan files — single-pane access to all plans | `PAI-Expansion-Plan.md`, `CrowbarCrew-Business-Plan.md` |
| `Tools/` | Python utilities for vault operations | `generate_fabric_pages.py`, `mount_check.py` |

### Frontmatter Template (Required on ALL files)

```yaml
---
title: "Title In Quotes"
type: <type>
domain: <domain>
tags: [tag1, tag2, tag3]
date: YYYY-MM-DD
source: "URL or descriptive name"
status: <status>
---
```

**Allowed values:**

| Field | Values |
|-------|--------|
| `type` | `wisdom-extraction`, `bootcamp`, `philosophy`, `business-plan`, `guide`, `note`, `session-log`, `fabric-pattern`, `business-idea`, `web-clip` |
| `domain` | `learning`, `business`, `personal`, `technical` |
| `status` | `active`, `archive`, `draft`, `inbox` |

### Tagging Conventions

- Use **kebab-case** (e.g., `ai-advantage`, `strength-training`)
- Include **2-6 tags** per file
- First tag should be the **primary topic** (e.g., `bootcamp`, `fabric`, `philosophy`)
- Reuse existing tags before inventing new ones. Common tags: `bootcamp`, `ai-advantage`, `community`, `skool`, `heartbeat`, `PAI`, `philosophy`, `consulting`, `fabric`, `patterns`, `infrastructure`

### File Naming

**Core rule:** Filenames are concise identifiers. No dates (use `date` frontmatter), no tool/pattern names (e.g., no "Extract-Wisdom", "wisdom"), no verbose slugs. Title-Case-With-Hyphens for all Knowledge files.

| Content Type | Pattern | Example |
|---|---|---|
| Podcast/show episode | `{Guest}-{ShowAbbrev}{Episode}.md` | `Alex-Hormozi-MW610.md` |
| Book/author notes | `{Author}-{Short-Title}.md` | `Derek-Sivers-Philosophy-Notes.md` |
| Guide/reference | `{Topic}-{Qualifier}.md` | `PAI-Client-Setup-Guide.md` |
| Business doc | `{Name}-{Type}.md` | `CrowbarCrew-Business-Plan.md` |
| General extraction | `{Source}-{Short-Topic}.md` | `Cole-Medin-OpenClaw.md` |
| Fabric patterns | `snake_case.md` (match pattern name) | `extract_wisdom.md` |

**Common show abbreviations:** MW (Modern Wisdom), DOAC (Diary of a CEO), JRE (Joe Rogan Experience), HL (Huberman Lab), IF (Impact Theory), LI (Lex In / Lex Fridman)

### Plans/ Hardlink Convention

Every project plan file gets an NTFS hardlink in `Plans/` so all plans are readable from one folder. Hardlinks share the same underlying file — edits anywhere update everywhere.

**Creating a hardlink (PowerShell required on Windows):**
```powershell
New-Item -ItemType HardLink -Path "$HOME\SecondBrain\Plans\{Plan-Name}.md" -Target "$HOME\SecondBrain\Knowledge\{Plan-Name}.md"
```

**Rules:**
- Hardlink name matches the source filename exactly
- When a plan file is renamed at the source, recreate the hardlink in Plans/
- When a project is archived, remove the hardlink from Plans/

### Linking Rules

- Use `[[wiki-links]]` for all internal references (e.g., `[[CrowbarCrew-Business-Plan]]`)
- Every file MUST end with a `## Related` section containing wiki-links to related files
- Use `obsidian-cli` to discover related files before writing:
  ```bash
  obsidian-cli --vault ~/SecondBrain query tags --contains "tag1"
  obsidian-cli --vault ~/SecondBrain find "keyword"
  ```
- Fabric pattern pages use `[[pattern_name]]` links (snake_case, no .md)

### Batch Content Generation

When generating bulk content (10+ files), always validate on a small sample (5 items) first. Verify frontmatter, naming, and linking before running the full batch.
